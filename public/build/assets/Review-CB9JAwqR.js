import{W as Z,r as c,j as e,a as ee,y as se}from"./app-D9S7E5aA.js";import{L as re,T as te}from"./index-BZV0bxDJ.js";/* empty css              */import{h as W}from"./moment-C5S46NFB.js";import{D as oe}from"./index-B8fQPd8J.js";import{S as ne,C as M}from"./index-BCCv-k5C.js";import w from"./Constants-B7LcNi88.js";import{J as T}from"./JoiValidator-BgwQl75B.js";import{Q as ie,n as l}from"./Notifier-BaT5XX0K.js";/* empty css                      *//* empty css              */import le from"./MatchedSME-Jx1HWoYt.js";import{T as t}from"./Typography-BgbuKzyS.js";import{B as a}from"./Box-eyelMrRj.js";import{B as m}from"./Button-DE0ixN1f.js";import{G as n}from"./Grid-Mc1OKQzi.js";import{A as ae}from"./Avatar-DJSktxsj.js";import{F as ce}from"./FormControlLabel-CwURlBpS.js";import{T as R}from"./TextField-unbpr0jh.js";import"./createSvgIcon-IClL6FaQ.js";import"./useIsFocusVisible-DIQC0raj.js";import"./Constants-BDnBD5VF.js";import"./resolveComponentProps-Cp-3FMxt.js";import"./ButtonBase-BzWtGvIE.js";import"./DeleteIcon-zt94IkTD.js";import"./EditIcon-CTDVe59q.js";import"./Paper-BDZ22_m9.js";import"./DialogContentText-CU8UnhAy.js";import"./DialogTitle-D9C7H0dr.js";import"./SwitchBase-CrLFG3hK.js";import"./NoDataFound-D2lOpZPU.js";import"./TableRow-C7ygp7Kn.js";import"./useSlot-BuZlH8dp.js";import"./GlobalStyles-C_YgBRHR.js";function Qe({detail:s}){var A,E,D,P;const{data:i,setData:L,post:u,processing:k}=Z({...w.initResetPasswordField,...s.user});let _=W(s!=null&&s.updated_at?s.updated_at:s.created_at).clone().add(7,"days"),C=W();const[F,f]=c.useState(!1),[O,h]=c.useState(!1),[U,g]=c.useState(!1),[j,S]=c.useState(i.status),[B,I]=c.useState(i.is_accepted),[G,J]=c.useState(!1),[d,b]=c.useState({}),[v,y]=c.useState(!1);c.useEffect(()=>{S(s.user.status),I(s.user.is_accepted)},[s.user.status,s.user.is_accepted]);const Q=()=>{J(!0)},z=(r,o)=>{b({...d,[r]:T.validateToPlainErrors(o,w.resetPasswordSchema[r])}),(r==="confirm_new_password"||r==="new_password")&&(i.new_password!==o&&i.confirm_new_password!==o?y(!0):y(!1)),L(p=>({...p,[r]:o}))},$=r=>{var N;r.preventDefault();let o=T.validateToPlainErrors(i,w.resetPasswordSchema);b(o);const p=(N=Object.keys(o))==null?void 0:N.map((x,Y)=>o[x]==null?0:Y);if((p==null?void 0:p.length)>0||i.confirm_new_password!==i.new_password){d.confirm_new_password=i.confirm_new_password!==i.new_password?"Passwords does not match":"";return}else u(route("mentor.resetPassword",s.id),{onSuccess:x=>{console.log(x,"sucesss"),l.success("Password has been updated successfully")},onError:x=>{console.log(x.email,"::error"),l.error("Error while updating password")}})},q=()=>{u(route("landing.deleteMentorUser",s.id),{onSuccess:r=>{l.success("Mentor Data successfully sent for deletion"),console.log(r,"successs"),f(!1)},onError:r=>{l.error("Error in Mentor Delete"),console.log(r,"error"),f(!1)}})},H=r=>{r.preventDefault(),u(route("admin.acceptedMentorProfile",s.id),{onSuccess:o=>{l.success("User has been Live successfully"),console.log(o,"success"),g(!1)},onError:o=>{l.error("Error while user Live"),console.log(o,"error"),g(!1)}})},V=r=>{r.preventDefault(),u(route("admin.rejectedMentorProfile",s.id),{onSuccess:o=>{h(!1),l.success("User has been rejected successfully"),console.log(o,"success")},onError:o=>{h(!1),l.error("Error while rejecting user"),console.log(o,"error")}})},K=r=>{const o=r.target.checked?1:0;S(o)},X=r=>{r.preventDefault(),se.post(route("admin.updateMentorStatus",s.id),{userStatus:j,onSuccess:o=>{l.success("Status has been updated successfully"),console.log(o,"success")},onError:o=>{l.error("Error while updating Status"),console.log(o,"error")}})};return console.log("datetewt",s),e.jsxs(re,{auth:s!=null&&s.logged_user?s.logged_user:s.user,children:[e.jsx(t,{sx:{height:"65px"}}),e.jsx(ie,{style:{marginTop:"65px"}}),e.jsxs(a,{p:4,className:"review_mentor",children:[e.jsxs(a,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},justifyContent:{md:"space-between"}},px:4,my:2,children:[e.jsx(t,{fontWeight:700,fontSize:"28px",textAlign:"left",color:"#223049",children:"Mentor Details"}),e.jsxs(a,{display:"flex",sx:{flexDirection:{xs:"column",md:"row"},alignItems:"center"},children:[e.jsxs(a,{className:"custom_btn custom_delete_btn flex flex-col md:flex-row items-center",children:[s&&s.logged_user&&s.logged_user.user_role==="admin"&&B===null&&e.jsxs(e.Fragment,{children:[e.jsx(m,{onClick:()=>h(!0),sx:{mr:1,mb:{md:0,xs:1}},className:"delete_account",variant:"contained",children:"Reject"}),e.jsx(m,{onClick:()=>g(!0),sx:{mr:1,mb:{md:0,xs:1}},variant:"contained",children:"Accept"})]}),e.jsx(te,{placement:"top",title:"Edit will be enable after 7 days",disableHoverListener:s.logged_user.user_role==="admin"||C.isAfter(_),children:e.jsx("span",{children:e.jsx(m,{disabled:!(s.logged_user.user_role==="admin"||C.isAfter(_)),component:ee,href:route("landing.mentordetail",s.user.id),variant:"contained",sx:{mr:1,mb:{md:0,xs:1}},children:"Edit"})})})]}),e.jsx(a,{className:"custom_delete_btn",children:e.jsx(m,{className:"delete_account",onClick:()=>f(!0),variant:"contained",children:"Delete Account"})})]})]}),e.jsxs(a,{p:4,pr:0,sx:{border:"1px solid black",borderRadius:"10px"},children:[e.jsxs(n,{container:!0,spacing:4,children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx(t,{mb:2,fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Profile Photo"}),e.jsx(ae,{alt:"Remy Sharp",src:s.profile_photo,sx:{width:"100px",height:"100px"}})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Contact Name"}),e.jsx(t,{fontSize:"14px",children:s.user.name})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Mobile Number"}),e.jsx(t,{fontSize:"14px",children:s.user.phone})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Email"}),e.jsx(t,{fontSize:"14px",children:s.user.email})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Mentored Company"}),e.jsx(t,{fontSize:"14px",children:s.mentored_company})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Qualifications"}),e.jsx(t,{fontSize:"14px",children:s.qualifications})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Industry sectors"}),s.industry_sector.map(r=>e.jsx(t,{fontSize:"14px",children:r},r))]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Functional"}),e.jsx(t,{fontSize:"14px",children:s.functional_area})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Companies willing to mentor"}),e.jsx(t,{fontSize:"14px",children:s.number_of_companies})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:12,lg:12,sm:12,children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Additional Information"}),e.jsx(t,{fontSize:"14px",children:s.additional_information})]})]}),s.logged_user.user_role==="admin"&&e.jsxs(a,{className:"status_box mt-3",children:[e.jsx(t,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Status"}),e.jsx(ce,{control:e.jsx(ne,{checked:j===1}),label:j===1?"Active":"Inactive",onChange:K}),e.jsx(a,{className:"custom_btn inline",children:e.jsx(m,{onClick:X,variant:"contained",children:"Save"})})]}),s.logged_user.user_role==="mentor"&&e.jsxs(a,{className:"reset_password_container",children:[e.jsx(a,{className:"custom_btn",children:e.jsx(m,{onClick:()=>Q(),variant:"contained",sx:{padding:"4px 20px !important",my:2},children:"Reset Password"})}),G===!0&&e.jsx("form",{method:"post",onSubmit:$,children:e.jsxs(n,{container:!0,spacing:4,className:"input_fields",children:[e.jsxs(n,{item:!0,px:2,xs:12,md:3,children:[e.jsx(t,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"New Password"}),e.jsx(R,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:i.new_password,variant:"outlined",type:"password",placeholder:"New Password ",onChange:r=>z("new_password",r.target.value),error:!!((A=d.new_password)!=null&&A[0]),helperText:(E=d.new_password)==null?void 0:E[0]})]}),e.jsxs(n,{item:!0,px:2,xs:12,md:3,children:[e.jsx(t,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"Confirm New Password"}),e.jsx(R,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:i.confirm_new_password,variant:"outlined",type:"password",placeholder:"Confirm New Password",onChange:r=>z("confirm_new_password",r.target.value),error:!!((D=d.confirm_new_password)!=null&&D[0])||v,helperText:((P=d.confirm_new_password)==null?void 0:P[0])||(v?"Passwords does not match":"")})]}),e.jsx(n,{item:!0,px:2,xs:12,md:3,className:"custom_btn",children:e.jsx(m,{sx:{mt:{lg:"32px"},padding:"15px 25px !important"},type:"submit",disabled:k,variant:"contained",children:"Save"})})]})})]})]}),e.jsx(le,{companies:s.companies,id:s.id})]}),e.jsx(oe,{open:F,setOpen:f,handleDelete:q}),e.jsx(M,{open:O,setOpen:h,handleSubmit:V,message:`Do you really want to reject ${s.user.name}`}),e.jsx(M,{open:U,setOpen:g,handleSubmit:H,message:`Do you really want to Live ${s.user.name}`})]})}export{Qe as default};
