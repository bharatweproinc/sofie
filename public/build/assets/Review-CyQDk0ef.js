import{W as X,r as l,j as e,a as Y,y as Z}from"./app-D8U5PHYV.js";import{L as ee,T as se}from"./index-B5HTynfd.js";/* empty css              */import{h as W}from"./moment-C5S46NFB.js";import{D as te}from"./index-EpmcCDlS.js";import{S as re,C as M}from"./index-CpQ6Zgjn.js";import{C as w,J as T}from"./Constants-zcpToc-_.js";import{Q as oe,n as m}from"./Notifier-CgjPiPe-.js";/* empty css                      *//* empty css              */import ne from"./MatchedSME-CYktsuQf.js";import{T as r}from"./Typography-DQvRHjr3.js";import{B as a}from"./Box-q44rX2z1.js";import{B as c}from"./Button-B4v7PQq-.js";import{G as n}from"./Grid-CVrw6gJm.js";import{A as ie}from"./Avatar-BgF2brGp.js";import{F as ae}from"./FormControlLabel-DNuqLjj4.js";import{T as R}from"./TextField-C2VhdRL3.js";import"./createSvgIcon-BYmNDG3k.js";import"./useIsFocusVisible-BeLHK-v7.js";import"./Constants-CNKGz8Bz.js";import"./resolveComponentProps-C0k-7Ml4.js";import"./useTheme-DGMkIOkT.js";import"./ButtonBase-CEF_sSfC.js";import"./CheckIcon-Dboc3Sid.js";import"./DeleteIcon-BgVYpSI2.js";import"./index-jL8jCZdz.js";import"./Paper-BYVsVFUH.js";import"./DialogContentText-Du7fXOsP.js";import"./DialogTitle-6G51ulxV.js";import"./SwitchBase-DHdegC7H.js";import"./NoDataFound-BEh0G7Op.js";import"./TableRow-BRksEAKz.js";import"./GlobalStyles-Cw7zm0XK.js";function Ge({detail:s}){var A,E,P,D;const{data:i,setData:k,post:u,processing:F}=X({...w.initResetPasswordField,...s.user});let _=W(s!=null&&s.updated_at?s.updated_at:s.created_at).clone().add(7,"days"),C=W();const[O,f]=l.useState(!1),[L,h]=l.useState(!1),[B,g]=l.useState(!1),[j,S]=l.useState(i.status),[I,U]=l.useState(!1),[d,b]=l.useState({}),[v,y]=l.useState(!1);l.useEffect(()=>{S(i.status)},[i.status]);const G=()=>{U(!0)},z=(t,o)=>{b({...d,[t]:T.validateToPlainErrors(o,w.resetPasswordSchema[t])}),(t==="confirm_new_password"||t==="new_password")&&(i.new_password!==o&&i.confirm_new_password!==o?y(!0):y(!1)),k(p=>({...p,[t]:o}))},J=t=>{var N;t.preventDefault();let o=T.validateToPlainErrors(i,w.resetPasswordSchema);b(o);const p=(N=Object.keys(o))==null?void 0:N.map((x,K)=>o[x]==null?0:K);if((p==null?void 0:p.length)>0||i.confirm_new_password!==i.new_password){d.confirm_new_password=i.confirm_new_password!==i.new_password?"Passwords does not match":"";return}else u(route("mentor.resetPassword",s.id),{onSuccess:x=>{console.log(x,"sucesss"),m.success("Password has been updated successfully")},onError:x=>{console.log(x.email,"::error"),m.error("Error while updating password")}})},Q=()=>{u(route("admin.deleteMentorUser",s.id),{onSuccess:t=>{m.success("Mentor Data has been deleted successfully"),console.log(t,"successs"),f(!1)},onError:t=>{m.error("Error in Mentor Delete"),console.log(t,"error"),f(!1)}})},$=t=>{t.preventDefault(),u(route("admin.acceptedMentorProfile",s.id),{onSuccess:o=>{console.log(o,"success"),g(!1)},onError:o=>{console.log(o,"error"),g(!1)}})},q=t=>{t.preventDefault(),u(route("admin.rejectedMentorProfile",s.id),{onSuccess:o=>{console.log(o,"success"),h(!1)},onError:o=>{console.log(o,"error"),h(!1)}})},H=t=>{const o=t.target.checked?1:0;S(o)},V=t=>{t.preventDefault(),Z.post(route("admin.updateMentorStatus",s.id),{userStatus:j,onSuccess:o=>{m.success("Status has been updated successfully"),console.log(o,"success")},onError:o=>{m.error("Error while updating Status"),console.log(o,"error")}})};return e.jsxs(ee,{auth:s==null?void 0:s.logged_user,children:[e.jsx(r,{sx:{height:"65px"}}),e.jsx(oe,{style:{marginTop:"65px"}}),e.jsxs(a,{p:4,className:"review_mentor",children:[e.jsxs(a,{sx:{display:"flex",justifyContent:"space-between"},px:4,my:2,children:[e.jsx(r,{fontWeight:700,fontSize:"28px",textAlign:"left",color:"#223049",children:"Mentor Details"}),e.jsxs(a,{display:"flex",alignItems:"center",children:[e.jsxs(a,{className:"custom_btn custom_delete_btn",children:[s&&s.logged_user&&s.logged_user.user_role==="admin"&&i.is_accepted===null&&e.jsxs(e.Fragment,{children:[e.jsx(c,{onClick:()=>h(!0),sx:{mr:1},className:"delete_account",variant:"contained",children:"Reject"}),e.jsx(c,{onClick:()=>g(!0),sx:{mr:1},variant:"contained",children:"Accept"})]}),e.jsx(se,{placement:"top",title:"Edit will be enable after 7 days",disableHoverListener:s.logged_user.user_role==="admin"||C.isAfter(_),children:e.jsx("span",{children:e.jsx(c,{disabled:!(s.logged_user.user_role==="admin"||C.isAfter(_)),component:Y,href:route("landing.mentordetail",s.user.id),variant:"contained",children:"Edit"})})})]}),e.jsx(a,{className:"custom_delete_btn ml-2",children:e.jsx(c,{className:"delete_account",onClick:()=>f(!0),variant:"contained",children:"Delete Account"})})]})]}),e.jsxs(a,{p:4,pr:0,sx:{border:"1px solid black",borderRadius:"10px"},children:[e.jsxs(n,{container:!0,spacing:4,children:[e.jsxs(n,{item:!0,xs:12,children:[e.jsx(r,{mb:2,fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Profile Photo"}),e.jsx(ie,{alt:"Remy Sharp",src:s.profile_photo,sx:{width:"100px",height:"100px"}})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Contact Name"}),e.jsx(r,{fontSize:"14px",children:s.user.name})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Mobile Number"}),e.jsx(r,{fontSize:"14px",children:s.user.phone})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Email"}),e.jsx(r,{fontSize:"14px",children:s.user.email})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Mentored Company"}),e.jsx(r,{fontSize:"14px",children:s.mentored_company})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Qualifications"}),e.jsx(r,{fontSize:"14px",children:s.qualifications})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Industry sectors"}),s.industry_sector.map(t=>e.jsx(r,{fontSize:"14px",children:t},t))]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Functional"}),e.jsx(r,{fontSize:"14px",children:s.functional_area})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:4,lg:3,sm:6,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Companies willing to mentor"}),e.jsx(r,{fontSize:"14px",children:s.number_of_companies})]}),e.jsxs(n,{item:!0,px:8,xs:12,md:12,lg:12,sm:12,children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Additional Information"}),e.jsx(r,{fontSize:"14px",children:s.additional_information})]})]}),s.logged_user.user_role==="admin"&&e.jsxs(a,{className:"status_box mt-3",children:[e.jsx(r,{fontWeight:600,fontSize:"18px",textAlign:"left",color:"#7C7C7C",children:"Status"}),e.jsx(ae,{control:e.jsx(re,{checked:j===1}),label:j===1?"Active":"Inactive",onChange:H}),e.jsx(a,{className:"custom_btn inline",children:e.jsx(c,{onClick:V,variant:"contained",children:"Save"})})]}),s.logged_user.user_role==="mentor"&&e.jsxs(a,{className:"reset_password_container",children:[e.jsx(a,{className:"custom_btn",children:e.jsx(c,{onClick:()=>G(),variant:"contained",sx:{padding:"4px 20px !important",my:2},children:"Reset Password"})}),I===!0&&e.jsx("form",{method:"post",onSubmit:J,children:e.jsxs(n,{container:!0,spacing:4,className:"input_fields",children:[e.jsxs(n,{item:!0,px:2,xs:12,md:3,children:[e.jsx(r,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"New Password"}),e.jsx(R,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:i.new_password,variant:"outlined",type:"password",placeholder:"New Password ",onChange:t=>z("new_password",t.target.value),error:!!((A=d.new_password)!=null&&A[0]),helperText:(E=d.new_password)==null?void 0:E[0]})]}),e.jsxs(n,{item:!0,px:2,xs:12,md:3,children:[e.jsx(r,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"Confirm New Password"}),e.jsx(R,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:i.confirm_new_password,variant:"outlined",type:"password",placeholder:"Confirm New Password",onChange:t=>z("confirm_new_password",t.target.value),error:!!((P=d.confirm_new_password)!=null&&P[0])||v,helperText:((D=d.confirm_new_password)==null?void 0:D[0])||(v?"Passwords does not match":"")})]}),e.jsx(n,{item:!0,px:2,xs:12,md:3,className:"custom_btn",children:e.jsx(c,{sx:{mt:{lg:"32px"},padding:"15px 25px !important"},type:"submit",disabled:F,variant:"contained",children:"Save"})})]})})]})]}),e.jsx(ne,{})]}),e.jsx(te,{open:O,setOpen:f,handleDelete:Q}),e.jsx(M,{open:L,setOpen:h,handleSubmit:q,message:`Do you really want to reject ${s.user.name}`}),e.jsx(M,{open:B,setOpen:g,handleSubmit:$,message:`Do you really want to Live ${s.user.name}`})]})}export{Ge as default};
