import{W as b,r as h,j as s}from"./app-C9WTy_v2.js";import{L as N}from"./index-xfK-kZ8q.js";import{J as _}from"./JoiValidator-BMXCsIpU.js";import{Q as W,n as g}from"./Notifier-DQBs2TKA.js";/* empty css                      */import n from"./Constants-COsO1HJ2.js";import{B as j}from"./Box-BsIaLjZV.js";import{T as i}from"./Typography-BG8jcK8T.js";import{G as a}from"./Grid-B6zzLO2u.js";import{T as P}from"./TextField-DzlCAoAb.js";import{B as y}from"./Button-eiZlTfBJ.js";import"./createSvgIcon-Cpff5JO4.js";import"./useIsFocusVisible-C6zIIiJ0.js";import"./Constants-DhpQ98tN.js";import"./resolveComponentProps-zx2vaKoR.js";import"./ButtonBase-B-xU047P.js";import"./DeleteIcon-Duyg9Bx8.js";import"./EditIcon-DNuGXxP7.js";import"./Paper-CwWBAw_A.js";import"./GlobalStyles-V3ZMj1ap.js";const z={id:12,user_role:"admin"};function $(){var w,c,f,u;const{data:o,setData:C,post:E,processing:S}=b(n.initResetPasswordField),[t,d]=h.useState({}),[m,p]=h.useState(!1),l=(r,e)=>{d({...t,[r]:_.validateToPlainErrors(e,n.resetPasswordSchema[r])}),(r==="confirm_new_password"||r==="new_password")&&(o.new_password!==e&&o.confirm_new_password!==e?p(!0):p(!1)),C(x=>({...x,[r]:e}))},v=r=>{r.preventDefault();let e=_.validateToPlainErrors(o,n.resetPasswordSchema);if(d(e),Object.keys(e).some(T=>e[T]!=null)||o.confirm_new_password!==o.new_password){t.confirm_new_password=o.confirm_new_password!==o.new_password?"Passwords do not match":"";return}else E(route("admin.resetAdminPassword"),{onSuccess:()=>{g.success("Password has been updated successfully")},onError:()=>{g.error("Error while updating password")}})};return s.jsxs(N,{auth:z,children:[s.jsx(W,{style:{marginTop:"65px"}}),s.jsxs(j,{p:2,children:[s.jsx(i,{fontWeight:700,fontSize:"28px",children:"Reset Password"}),s.jsx(j,{className:"reset_password_container",mt:4,children:s.jsx("form",{method:"post",onSubmit:v,children:s.jsxs(a,{container:!0,spacing:4,className:"input_fields",mt:2,children:[s.jsxs(a,{item:!0,xs:12,md:4,children:[s.jsx(i,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"New Password"}),s.jsx(P,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:o.new_password,variant:"outlined",type:"password",placeholder:"New Password",onChange:r=>l("new_password",r.target.value),error:!!((w=t.new_password)!=null&&w[0]),helperText:(c=t.new_password)==null?void 0:c[0]})]}),s.jsxs(a,{item:!0,xs:12,md:4,children:[s.jsx(i,{fontWeight:600,fontSize:"16px",textAlign:"left",color:"#7C7C7C",children:"Confirm New Password"}),s.jsx(P,{size:"small",sx:{mt:1,width:"100%"},fullWidth:!0,value:o.confirm_new_password,variant:"outlined",type:"password",placeholder:"Confirm New Password",onChange:r=>l("confirm_new_password",r.target.value),error:!!((f=t.confirm_new_password)!=null&&f[0])||m,helperText:((u=t.confirm_new_password)==null?void 0:u[0])||(m?"Passwords do not match":"")})]}),s.jsx(a,{item:!0,xs:12,md:4,className:"custom_btn",children:s.jsx(y,{sx:{mt:"32px",padding:"15px 25px !important"},type:"submit",disabled:S,variant:"contained",children:"Save"})})]})})})]})]})}export{$ as default};
