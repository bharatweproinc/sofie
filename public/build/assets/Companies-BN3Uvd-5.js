import{W as H,r,j as e}from"./app-TtNZfeus.js";import{C as R}from"./Constants-CJEYmYf5.js";/* empty css              */import{d as I}from"./ArrowBack-3cfyp4DW.js";import{N as A}from"./NoDataFound-Gj0UuYGE.js";import{D as O}from"./index-HGYRF8za.js";import{n as v}from"./Notifier-CYlS2xjY.js";import{Q as G}from"./react-toastify.esm-9naFOXX7.js";/* empty css                      */import{G as U}from"./Grid-DiI-GVpP.js";import{P as V}from"./Paper-BvlIHG5c.js";import{B as E}from"./createSvgIcon-iSiY3fuE.js";import{B as i}from"./Box-BpjTqymi.js";import{T as o}from"./Typography-B9MTfJao.js";import{T as Q,a as q,b as J,c as L,d as n,e as K}from"./TableRow-DF6MYKBx.js";import{C as X}from"./Chip-Dc7rvMFR.js";import{P as Y}from"./Pagination-1eqWWSdF.js";import"./useTheme-D744Xnz2.js";import"./ButtonBase-CRJKjNgH.js";import"./DeleteIcon-CiNVDLuq.js";import"./DialogTitle-CEf19nTg.js";const we=({handleViewAll:N,section:b,setViewSection:S,list:m=[]})=>{const{post:k}=H(),[B,x]=r.useState(!1),[j,T]=r.useState(null),[f,z]=r.useState(m.companies.list.company),[a,P]=r.useState({key:null,direction:"asc"}),g=8,[u,M]=r.useState(1),h=b==="companies",W=()=>{S("")},C=[...f].sort((s,t)=>{if(a.key!==null){const l=a.key;if(s[l]<t[l])return a.direction==="asc"?-1:1;if(s[l]>t[l])return a.direction==="asc"?1:-1}return 0}),w=u*g,_=w-g,d=h?C.slice(_,w):C.slice(0,7),D=(s,t)=>{M(t)},p=s=>{let t="asc";a.key===s&&a.direction==="asc"&&(t="desc"),P({key:s,direction:t})};r.useEffect(()=>{z(m.companies.list.company)},[m.companies.list.company]);const Z=()=>{console.log("userId",j),k(route("admin.deleteDashCompany",j),{onSuccess:s=>{v.success("Company Data has been deleted successfully"),console.log(s,"successs"),x(!1)},onError:s=>{v.error("Error in Company Delete"),console.log(s,"error"),x(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(G,{style:{marginTop:"65px"}}),e.jsxs(U,{item:!0,xs:12,md:12,sx:{width:"100%"},className:"companies_main",children:[e.jsxs(V,{children:[h&&e.jsxs(E,{onClick:W,sx:{color:"black",fontSize:"14px",textTransform:"capitalize"},children:[e.jsx(I,{sx:{marginRight:"5px",fontSize:"18px"}}),"Back"]}),e.jsxs(i,{p:2,className:"flex justify-between",children:[e.jsx(o,{alignSelf:"center",variant:"h5",fontSize:"18px",fontWeight:"700",color:"#090D28",children:"Companies"}),!h&&e.jsx(E,{onClick:()=>N("companies"),sx:{textTransform:"capitalize"},children:"View all"})]}),f.length>0?e.jsxs(i,{children:[e.jsx(Q,{children:e.jsxs(q,{sx:{minWidth:650},"aria-label":"simple table",children:[e.jsx(J,{children:e.jsxs(L,{sx:{backgroundColor:"#F8F9FB"},children:[e.jsx(n,{children:e.jsxs(i,{className:"flex gap-3",children:[e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"Company Name"}),e.jsxs("div",{className:"grid",onClick:()=>p("company_name"),style:{cursor:"pointer"},children:[e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.20759 1.02937C5.6079 0.509358 6.3921 0.509358 6.79241 1.02937L11.6888 7.39001C12.195 8.04757 11.7263 9 10.8964 9H1.10358C0.273737 9 -0.195026 8.04757 0.311171 7.39001L5.20759 1.02937Z",fill:"#E4E5E7"})}),e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.79241 7.97063C6.3921 8.49064 5.6079 8.49064 5.20759 7.97063L0.311171 1.60999C-0.195026 0.952425 0.273738 0 1.10358 0L10.8964 0C11.7263 0 12.195 0.952425 11.6888 1.60999L6.79241 7.97063Z",fill:"#E4E5E7"})})]})]})}),e.jsx(n,{align:"left",children:e.jsxs(i,{className:"flex gap-3",children:[e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"UEN Number"}),e.jsxs("div",{className:"grid",onClick:()=>p("uen_number"),style:{cursor:"pointer"},children:[e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.20759 1.02937C5.6079 0.509358 6.3921 0.509358 6.79241 1.02937L11.6888 7.39001C12.195 8.04757 11.7263 9 10.8964 9H1.10358C0.273737 9 -0.195026 8.04757 0.311171 7.39001L5.20759 1.02937Z",fill:"#E4E5E7"})}),e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.79241 7.97063C6.3921 8.49064 5.6079 8.49064 5.20759 7.97063L0.311171 1.60999C-0.195026 0.952425 0.273738 0 1.10358 0L10.8964 0C11.7263 0 12.195 0.952425 11.6888 1.60999L6.79241 7.97063Z",fill:"#E4E5E7"})})]})]})}),e.jsx(n,{align:"left",children:e.jsxs(i,{className:"flex gap-3",children:[e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"Contact Person"}),e.jsxs("div",{className:"grid",onClick:()=>p("name"),style:{cursor:"pointer"},children:[e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.20759 1.02937C5.6079 0.509358 6.3921 0.509358 6.79241 1.02937L11.6888 7.39001C12.195 8.04757 11.7263 9 10.8964 9H1.10358C0.273737 9 -0.195026 8.04757 0.311171 7.39001L5.20759 1.02937Z",fill:"#E4E5E7"})}),e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.79241 7.97063C6.3921 8.49064 5.6079 8.49064 5.20759 7.97063L0.311171 1.60999C-0.195026 0.952425 0.273738 0 1.10358 0L10.8964 0C11.7263 0 12.195 0.952425 11.6888 1.60999L6.79241 7.97063Z",fill:"#E4E5E7"})})]})]})}),e.jsx(n,{align:"left",children:e.jsxs(i,{className:"flex gap-3",children:[e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"Email"}),e.jsxs("div",{className:"grid",onClick:()=>p("email"),style:{cursor:"pointer"},children:[e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M5.20759 1.02937C5.6079 0.509358 6.3921 0.509358 6.79241 1.02937L11.6888 7.39001C12.195 8.04757 11.7263 9 10.8964 9H1.10358C0.273737 9 -0.195026 8.04757 0.311171 7.39001L5.20759 1.02937Z",fill:"#E4E5E7"})}),e.jsx("svg",{width:"12",height:"9",viewBox:"0 0 12 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M6.79241 7.97063C6.3921 8.49064 5.6079 8.49064 5.20759 7.97063L0.311171 1.60999C-0.195026 0.952425 0.273738 0 1.10358 0L10.8964 0C11.7263 0 12.195 0.952425 11.6888 1.60999L6.79241 7.97063Z",fill:"#E4E5E7"})})]})]})}),e.jsx(n,{align:"center",children:e.jsx(i,{className:"flex gap-3",children:e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"Status"})})}),e.jsx(n,{align:"center",children:e.jsx(i,{className:"flex gap-3 pl-10",children:e.jsx(o,{fontSize:"14px",color:"#212121",fontWeight:"600",children:"Actions"})})})]})}),e.jsx(K,{children:(d==null?void 0:d.length)&&d.map((s,t)=>{var l,y;return e.jsxs(L,{children:[e.jsx(n,{component:"th",scope:"row",children:s.company_name}),e.jsx(n,{align:"left",children:s.company_uen}),e.jsx(n,{align:"left",children:(l=s==null?void 0:s.user)==null?void 0:l.name}),e.jsx(n,{align:"left",children:(y=s==null?void 0:s.user)==null?void 0:y.email}),console.log("id",s.user.id),e.jsx(n,{align:"left",children:e.jsx(X,{label:s.user.status===1?"Active":"Inactive",color:s.user.status===1?"success":"error"})}),e.jsx(n,{align:"left",children:e.jsx(i,{sx:{gap:"10px"},className:"flex",children:R.icons.map((c,F)=>e.jsx("span",{children:c.id===1?e.jsx("a",{target:"_blank",href:route("admin.company.companydetail",s.user.id),children:c.icon}):c.id===2?e.jsx("a",{target:"_blank",href:route("admin.company.get",s.id),children:c.icon}):e.jsx("span",{style:{cursor:"pointer"},onClick:()=>{x(!0),T(s.id)},children:c.icon})},F))})})]},t)})})]})}),h&&e.jsx(i,{p:2,display:"flex",justifyContent:"center",children:e.jsx(Y,{count:Math.ceil(f.length/g),page:u,className:"table_pagination",onChange:D,sx:{mt:3}})})]}):e.jsx(A,{message:"No company available"})]}),e.jsx(O,{open:B,setOpen:x,handleDelete:Z})]})]})};export{we as default};
